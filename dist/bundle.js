async function fetchBlogIndex(){return(await fetch("blog-index.json")).json()}function renderTags(e){const t=new Set;e.forEach((e=>{Array.isArray(e.tags)&&e.tags.forEach((e=>t.add(e)))}));const n=Array.from(t).sort();document.getElementById("filter-tags").innerHTML='<button class="filter-btn active" data-tag="all">All</button>'+n.map((e=>`<button class="filter-btn" data-tag="${e}">${e}</button>`)).join("")}function renderBlogList(e){const t=document.getElementById("blog-list");t&&(0!==e.length?t.innerHTML=e.map((e=>`\n        <article class="blog-card" data-category="${e.tags&&e.tags[0]||""}">\n            <div class="blog-card-image">\n                <img src="${e.cover||"../../assets/images/placeholders/blog-placeholder.svg"}" alt="${e.title}">\n            </div>\n            <div class="blog-card-content">\n                <div class="post-meta">\n                    <span class="category">${e.tags&&e.tags[0]||""}</span>\n                    <span class="date">${e.date}</span>\n                </div>\n                <h3>${e.title}</h3>\n                <p>${e.summary||""}</p>\n                <a href="post.html?slug=${e.slug}" class="read-more">Read More <i class="fas fa-arrow-right"></i></a>\n            </div>\n        </article>\n    `)).join(""):t.innerHTML="<p>No blog posts found.</p>")}function filterBlogs(e,t,n){return e.filter((e=>{const o="all"===t||e.tags&&e.tags.includes(t),s=!n||e.title.toLowerCase().includes(n)||e.summary&&e.summary.toLowerCase().includes(n)||e.tags&&e.tags.some((e=>e.toLowerCase().includes(n)));return o&&s}))}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".logo-flip-animation").forEach((e=>{e.addEventListener("mouseenter",(()=>{e.classList.contains("play-animation")||e.classList.add("play-animation")}));const t=e.querySelectorAll("span"),n=t[t.length-1];n&&n.addEventListener("animationend",(()=>{e.classList.remove("play-animation")}))}))})),document.addEventListener("DOMContentLoaded",(async()=>{const e=await fetchBlogIndex();renderTags(e),renderBlogList(e);let t="all",n="";document.getElementById("filter-tags").addEventListener("click",(o=>{if(o.target.classList.contains("filter-btn")){document.querySelectorAll(".filter-btn").forEach((e=>e.classList.remove("active"))),o.target.classList.add("active"),t=o.target.getAttribute("data-tag");renderBlogList(filterBlogs(e,t,n))}})),document.getElementById("search-btn").addEventListener("click",(()=>{n=document.getElementById("blog-search").value.toLowerCase().trim();renderBlogList(filterBlogs(e,t,n))})),document.getElementById("blog-search").addEventListener("keyup",(o=>{if("Enter"===o.key){n=document.getElementById("blog-search").value.toLowerCase().trim();renderBlogList(filterBlogs(e,t,n))}}));const o=document.querySelector(".newsletter-form");o&&o.addEventListener("submit",(async e=>{e.preventDefault();const t=o.querySelector('input[type="email"]'),n=o.querySelector('button[type="submit"]'),a=t.value.trim();if(!r(a))return void s("Please enter a valid email address","error");const c=n.textContent;n.textContent="Subscribing...",n.disabled=!0;try{await new Promise((e=>setTimeout(e,1500))),s("Thanks for subscribing to our newsletter!","success"),o.reset()}catch(e){s("An error occurred. Please try again.","error")}finally{n.textContent=c,n.disabled=!1}}));const s=(e,t)=>{const n=document.querySelector(".newsletter-content"),o=n.querySelector(".subscribe-message");o&&o.remove();const s=document.createElement("div");s.className=`subscribe-message ${t}`,s.textContent=e,n.appendChild(s),setTimeout((()=>{s.classList.add("fade-out"),setTimeout((()=>{s.remove()}),500)}),5e3)},r=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);(()=>{const e=document.createElement("style");e.textContent="\n            .subscribe-message {\n                margin-top: 1rem;\n                padding: 0.8rem;\n                border-radius: 5px;\n                text-align: center;\n                animation: fadeIn 0.3s ease;\n            }\n            \n            .subscribe-message.success {\n                background-color: rgba(46, 204, 113, 0.2);\n                color: #27ae60;\n            }\n            \n            .subscribe-message.error {\n                background-color: rgba(231, 76, 60, 0.2);\n                color: #e74c3c;\n            }\n            \n            .search-results-message {\n                margin-bottom: 1.5rem;\n                font-size: 0.95rem;\n                color: #666;\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n            }\n            \n            .clear-search {\n                background-color: var(--secondary-color);\n                color: white;\n                border: none;\n                padding: 0.4rem 0.8rem;\n                border-radius: 4px;\n                cursor: pointer;\n                font-size: 0.85rem;\n                margin-left: 1rem;\n            }\n            \n            .clear-search:hover {\n                background-color: var(--primary-color);\n            }\n            \n            .fade-out {\n                animation: fadeOut 0.5s ease;\n            }\n            \n            @keyframes fadeOut {\n                from { opacity: 1; }\n                to { opacity: 0; }\n            }\n        ",document.head.appendChild(e)})()})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".contact-form"),t=document.querySelector(".success-message"),n=t=>{let n=!0;const o={};var s;return document.querySelectorAll(".error-message").forEach((e=>e.remove())),document.querySelectorAll(".error").forEach((e=>e.classList.remove("error"))),t.get("fullName").trim()||(n=!1,o.fullName="Full name is required"),s=t.get("email"),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(s).toLowerCase())||(n=!1,o.email="Please enter a valid email address"),t.get("subject").trim()||(n=!1,o.subject="Subject is required"),t.get("message").trim()||(n=!1,o.message="Message is required"),Object.keys(o).forEach((t=>{const n=e.querySelector(`[name="${t}"]`);n.classList.add("error");const s=document.createElement("div");s.className="error-message",s.textContent=o[t],n.parentNode.appendChild(s)})),n};e.addEventListener("submit",(async o=>{o.preventDefault();const s=new FormData(e);if(n(s))try{await new Promise((e=>setTimeout(e,1e3))),t.style.display="block",e.reset(),setTimeout((()=>{t.style.display="none"}),5e3)}catch(e){console.error("Error submitting form:",e),alert("An error occurred. Please try again later.")}}));const o=document.querySelectorAll(".faq-item");o.forEach((e=>{const t=e.querySelector("h3"),n=e.querySelector("p");e!==o[0]&&(n.style.display="none"),t.addEventListener("click",(()=>{const t="block"===n.style.display;o.forEach((t=>{t!==e&&(t.querySelector("p").style.display="none",t.classList.remove("active"))})),n.style.display=t?"none":"block",e.classList.toggle("active",!t)}))})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))}));document.querySelectorAll(".form-group input, .form-group textarea").forEach((e=>{e.addEventListener("focus",(()=>{e.parentElement.classList.add("focused")})),e.addEventListener("blur",(()=>{e.value||e.parentElement.classList.remove("focused")}))}))}));const sharp=require("sharp"),fs=require("fs-extra"),path=require("path"),glob=require("glob"),imageDir=path.join(__dirname,"..","assets","images"),outputDir=path.join(__dirname,"..","assets","images","webp");fs.ensureDirSync(outputDir);const files=glob.sync(`${imageDir}/**/*.{png,jpg,jpeg}`);files.forEach((e=>{const{dir:t,name:n}=path.parse(e),o=path.relative(imageDir,t),s=path.join(outputDir,o);fs.ensureDirSync(s),sharp(e).toFormat("webp").toFile(path.join(s,`${n}.webp`),((t,n)=>{t?console.error(`Error converting ${e} to WebP:`,t):console.log(`Successfully converted ${e} to WebP:`,n)}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".mobile-menu"),t=document.querySelector(".nav-links");e&&e.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active")}));const n=document.getElementById("scrollToEventsContent"),o=document.getElementById("main-events-content");n&&o&&n.addEventListener("click",(()=>{o.scrollIntoView({behavior:"smooth",block:"start"})}));const s=document.getElementById("calendar");if(s){const e=new FullCalendar.Calendar(s,{initialView:window.innerWidth<768?"listMonth":"dayGridMonth",googleCalendarApiKey:"AIzaSyB0KhMJx1WNE4HhReQoxdc3rl-pXSLTGNk",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,listMonth"},events:{googleCalendarId:"c6291aceb5ef7e85faa2d3709b757c3f54ef683b7da7ca1d77a3046b40391568@group.calendar.google.com"},height:"auto",windowResize:function(){window.innerWidth<768?(e.changeView("listMonth"),e.setOption("headerToolbar",{left:"prev,next",center:"title",right:"today"})):(e.changeView("dayGridMonth"),e.setOption("headerToolbar",{left:"prev,next today",center:"title",right:"dayGridMonth,listMonth"}))},eventClassNames:function(e){const t=e.event.extendedProps.categories;return t?t.map((e=>`event-${e.toLowerCase()}`)):[]},eventClick:function(e){!function(e){const t=document.createElement("div");t.className="event-modal";const n=document.createElement("div");n.className="modal-content",n.innerHTML=`\n            <span class="close-modal">&times;</span>\n            <h3>${e.title}</h3>\n            <p><i class="fas fa-calendar"></i> ${r(e.start)}</p>\n            ${e.end?`<p><i class="fas fa-clock"></i> ${r(e.start)} - ${r(e.end)}</p>`:""}\n            <p class="event-type"><i class="fas fa-tag"></i> ${e.extendedProps.type}</p>\n            <div class="modal-actions">\n                <button class="btn-register">Register Now</button>\n            </div>\n        `,t.appendChild(n),document.body.appendChild(t);t.querySelector(".close-modal").onclick=()=>{document.body.removeChild(t)},window.onclick=e=>{e.target===t&&document.body.removeChild(t)}}(e.event)}});e.render()}function r(e){return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}document.querySelectorAll(".btn-register").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.closest(".event-card")?e.target.closest(".event-card").querySelector("h3").textContent:"this event";alert(`Thank you for your interest in ${t}. Registration will open soon!`)}))})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))}));const a=document.querySelectorAll("img[data-src]");const c=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(!function(e){const t=e.getAttribute("data-src");t&&(e.src=t,e.removeAttribute("data-src"))}(e.target),t.unobserve(e.target))}))}),{threshold:0,rootMargin:"0px 0px 50px 0px"});a.forEach((e=>c.observe(e)));const i=document.querySelectorAll(".event-card, .timeline-event"),l=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("animate"),t.unobserve(e.target))}))}),{threshold:.2,rootMargin:"0px"});i.forEach((e=>l.observe(e)));let d="all";const u=document.querySelectorAll("[data-filter]"),m=document.querySelectorAll(".event-card");function g(){document.querySelectorAll(".event-date").forEach((e=>{const t=e.getAttribute("data-date");if(!t)return;const n=new Date(t)-new Date;if(n>0){const t=Math.floor(n/864e5),o=Math.floor(n%864e5/36e5),s=e.querySelector(".countdown");s&&(s.textContent=`${t}d ${o}h`)}}))}u.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-filter");d=t,u.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),m.forEach((e=>{const n=e.getAttribute("data-category");"all"===t||n===t?(e.style.display="",setTimeout((()=>e.classList.add("show")),10)):(e.classList.remove("show"),setTimeout((()=>e.style.display="none"),300))}))}))})),g(),setInterval(g,36e5)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".accordion-item");e.forEach((t=>{t.querySelector(".accordion-header").addEventListener("click",(()=>{const n=t.classList.contains("active");e.forEach((e=>{e.classList.remove("active")})),n||t.classList.add("active")}))}));const t=document.querySelectorAll(".category-btn");t.forEach((n=>{n.addEventListener("click",(()=>{t.forEach((e=>e.classList.remove("active"))),n.classList.add("active");const o=n.getAttribute("data-category");e.forEach((e=>{e.classList.remove("active"),"all"===o||e.getAttribute("data-category")===o?e.style.display="block":e.style.display="none"}))}))}));const n=()=>{const n=window.location.hash.substring(1);if(n){const o=document.getElementById(n)||document.querySelector(`[data-hash="${n}"]`)||document.querySelector(`[data-category="${n}"]`);if(o&&o.classList.contains("accordion-item")){e.forEach((e=>{e.classList.remove("active")})),o.classList.add("active"),o.scrollIntoView({behavior:"smooth",block:"center"});const n=o.getAttribute("data-category");n&&t.forEach((e=>{e.classList.remove("active"),e.getAttribute("data-category")===n&&(e.classList.add("active"),e.click())}))}}};n(),window.addEventListener("hashchange",n);const o=t=>{if(document.querySelector('.category-btn[data-category="all"]').click(),!t.trim())return;t=t.toLowerCase();let n=!1;e.forEach((e=>{const o=e.querySelector(".accordion-header h3").textContent.toLowerCase(),s=e.querySelector(".accordion-content").textContent.toLowerCase();o.includes(t)||s.includes(t)?(e.style.display="block",e.classList.add("search-highlight"),n=!0):(e.style.display="none",e.classList.remove("search-highlight"))})),n&&document.querySelectorAll(".accordion-item.search-highlight").forEach((e=>{e.classList.add("active")}))};(()=>{const e=document.querySelector(".faq-categories"),t=document.createElement("div");t.className="faq-search";const n=document.createElement("input");n.type="text",n.placeholder="Search questions...",n.className="search-input";const s=document.createElement("button");s.type="button",s.className="search-button",s.innerHTML='<i class="fas fa-search"></i>',s.addEventListener("click",(()=>{o(n.value)})),n.addEventListener("keyup",(e=>{"Enter"===e.key&&o(n.value),""===n.value.trim()&&(document.querySelectorAll(".accordion-item").forEach((e=>{e.classList.remove("search-highlight")})),document.querySelector('.category-btn[data-category="all"]').click())})),t.appendChild(n),t.appendChild(s),e.parentNode.insertBefore(t,e)})()})),document.addEventListener("DOMContentLoaded",(async()=>{const e=await fetch("src/pages/footer-pages/blog-index.json"),t=(await e.json()).filter((e=>e.featured)).slice(0,3),n=document.getElementById("featured-blogs");n&&(0!==t.length?n.innerHTML=t.map((e=>`\n        <article class="blog-card-small">\n            <div class="blog-card-small-img">\n                <img src="${e.cover||"src/assets/images/placeholders/blog-placeholder.svg"}" alt="${e.title}">\n            </div>\n            <div class="blog-card-small-content">\n                <h3 class="blog-card-small-title">\n                    <a href="src/pages/footer-pages/post.html?slug=${e.slug}">${e.title}</a>\n                </h3>\n                <div class="blog-card-small-meta">\n                    <span><i class="far fa-calendar"></i> ${e.date}</span>\n                    <span><i class="far fa-folder"></i> ${e.tags&&e.tags[0]||""}</span>\n                </div>\n                <p class="blog-card-small-excerpt">${e.summary||""}</p>\n                <a href="src/pages/footer-pages/post.html?slug=${e.slug}" class="link link-underline blog-card-small-link">Read More</a>\n            </div>\n        </article>\n    `)).join(""):n.innerHTML="<p>No featured blog posts yet.</p>")})),document.addEventListener("DOMContentLoaded",(function(){const e=()=>window.innerWidth<=768,t=document.querySelector(".footer .logo-flip-animation");if(t){new IntersectionObserver(((t,n)=>{t.forEach((t=>{e()&&t.isIntersecting&&(t.target.classList.add("animate"),n.unobserve(t.target))}))}),{threshold:.5}).observe(t)}const n=document.querySelectorAll(".footer-widget-title");if(n.length>0){const t=new IntersectionObserver((t=>{t.forEach((t=>{e()&&t.isIntersecting?t.target.classList.add("in-view"):t.target.classList.remove("in-view")}))}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});n.forEach((e=>{t.observe(e)}))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".hero-content");e&&setTimeout((()=>{e.classList.add("animate")}),100);const t=document.getElementById("about-learn-more-btn");t&&t.addEventListener("click",(function(){const e=document.getElementById("about-page-content");e&&e.scrollIntoView({behavior:"smooth"})}))}));const config={sourceDirs:["src/assets/images","src/assets/uploads"],outputDir:"src/assets/webp",sizes:{small:480,medium:768,large:1200,xlarge:1920},quality:{jpg:80,png:85,webp:80}};function convertImagesToWebP(){const e=require("fs"),t=require("path"),n=require("sharp");config.sourceDirs.forEach((o=>{const s=config.outputDir;e.existsSync(s)||e.mkdirSync(s,{recursive:!0});e.readdirSync(o).forEach((e=>{const r=t.join(o,e),a=t.extname(e).toLowerCase();if([".jpg",".jpeg",".png",".gif"].includes(a)){const o=t.basename(e,a);n(r).webp({quality:config.quality.webp}).toFile(t.join(s,`${o}.webp`)).then((()=>console.log(`Converted ${e} to WebP`))).catch((t=>console.error(`Error converting ${e}:`,t))),Object.entries(config.sizes).forEach((([c,i])=>{n(r).resize(i).webp({quality:config.quality.webp}).toFile(t.join(s,`${o}-${c}.webp`)).then((()=>console.log(`Created ${c} WebP variant for ${e}`))).catch((t=>console.error(`Error creating ${c} WebP variant for ${e}:`,t))),n(r).resize(i).toFile(t.join(s,`${o}-${c}${a}`)).then((()=>console.log(`Created ${c} variant for ${e}`))).catch((t=>console.error(`Error creating ${c} variant for ${e}:`,t)))}))}}))}))}function updateHTMLWithWebP(){const e=require("fs"),t=require("path"),n=[];!function o(s){e.readdirSync(s).forEach((r=>{const a=t.join(s,r);e.statSync(a).isDirectory()?o(a):".html"===t.extname(r).toLowerCase()&&n.push(a)}))}("."),n.forEach((n=>{let o=e.readFileSync(n,"utf8");const s=/<img\s+[^>]*src\s*=\s*["']([^"']+)["'][^>]*>/gi;let r;const a=[];for(;null!==(r=s.exec(o));){const e=r[0],n=r[1],o=t.extname(n).toLowerCase();if([".jpg",".jpeg",".png"].includes(o)){const s=t.basename(n,o),r=t.dirname(n);if(".svg"===o||e.includes("srcset")||e.includes("data-src"))continue;const c=`${r}/webp/${s}.webp`,i=e.match(/alt\s*=\s*["']([^"']*)["']/i),l=i?i[1]:"",d=e.match(/class\s*=\s*["']([^"']*)["']/i),u=`\n<picture>\n  <source srcset="${c}" type="image/webp">\n  <source srcset="${n}" type="${".png"===o?"image/png":"image/jpeg"}">\n  <img src="${n}" alt="${l}" class="${d?d[1]:""}" loading="lazy">\n</picture>`;a.push({original:e,replacement:u})}}a.forEach((({original:e,replacement:t})=>{o=o.replace(e,t)})),e.writeFileSync(n,o),console.log(`Updated ${n}`)}))}function detectWebPSupport(){(e=>{const t=new Image;t.onload=t.onerror=function(){e(2===t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})((e=>{document.documentElement.classList.add(e?"webp":"no-webp")}))}function setupResponsiveImages(){const e=()=>{const e=window.innerWidth;document.querySelectorAll("img[data-srcset]").forEach((t=>{const n=t.getAttribute("data-srcset");if(n){const o=n.split(",").map((e=>{const[t,n]=e.trim().split(" ");return{url:t,width:parseInt(n.replace("w",""))}}));o.sort(((e,t)=>e.width-t.width));let s=o[0];for(const t of o)if(e<=t.width){s=t;break}t.dataset.src!==s.url&&(t.dataset.src=s.url,t.src&&!t.classList.contains("loaded")||(t.src=s.url))}}))};window.addEventListener("load",e),window.addEventListener("resize",e)}"undefined"!=typeof window&&window.addEventListener("DOMContentLoaded",detectWebPSupport),"undefined"!=typeof window&&window.addEventListener("DOMContentLoaded",setupResponsiveImages);export{detectWebPSupport,setupResponsiveImages};if("undefined"!=typeof module&&require.main===module){const e=process.argv.slice(2);e.includes("--convert")?convertImagesToWebP():e.includes("--update-html")?updateHTMLWithWebP():console.log("\nImage Optimizer for Global Debate Society\n----------------------------------------\nCommands:\n  --convert      : Convert images to WebP and create responsive variants\n  --update-html  : Update HTML files to use WebP with fallbacks\n    ")}function setActiveNavLink(){const e=window.location.pathname;document.querySelectorAll(".navbar-nav a").forEach((t=>{const n=t.getAttribute("href");e.endsWith(n)||e.endsWith("/")&&"index.html"===n?t.classList.add("active"):t.classList.remove("active")}))}function initializeTooltips(){document.querySelectorAll("[data-tooltip]").forEach((e=>{e.addEventListener("mouseenter",(function(){const e=this.getAttribute("data-tooltip"),t=document.createElement("div");t.className="tooltip",t.textContent=e,document.body.appendChild(t);const n=this.getBoundingClientRect();t.style.top=n.top-t.offsetHeight-10+"px",t.style.left=n.left+n.width/2-t.offsetWidth/2+"px",t.style.opacity="1",this.addEventListener("mouseleave",(function(){document.body.removeChild(t)}),{once:!0})}))}))}function handleBackToTop(){let e=document.querySelector(".back-to-top");e||(e=document.createElement("button"),e.className="back-to-top",e.innerHTML='<i class="fas fa-arrow-up"></i>',document.body.appendChild(e),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})));window.addEventListener("scroll",(()=>{window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")}))}function updateCopyright(){const e=document.querySelector(".footer-bottom p");if(e){const t=(new Date).getFullYear();e.textContent=`© ${t} Global Debate Society. All rights reserved.`}}function animateOnScroll(){const e=document.querySelectorAll(".animate-fade-in");if(0===e.length)return;const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{threshold:.2,rootMargin:"0px 0px -50px 0px"});e.forEach((e=>{t.observe(e)}))}function initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){const t=this.getAttribute("href");if("#"===t)return;e.preventDefault();const n=document.querySelector(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}))}))}function initScrollAnimations(){let e=!1,t={features:!1,events:!1,testimonials:!1,blog:!1,cta:!1};window.addEventListener("scroll",(function(){e=!0;const n=window.scrollY+.8*window.innerHeight;if(!t.features){const e=document.querySelector(".features");if(e&&e.offsetTop<n){document.querySelector(".features .section-title")?.classList.add("animate");document.querySelectorAll(".feature-card").forEach(((e,t)=>{setTimeout((()=>{e.classList.add("animate")}),200*t)})),t.features=!0}}if(!t.events){const e=document.querySelector(".upcoming-events");if(e&&e.offsetTop<n){document.querySelector(".upcoming-events .section-title")?.classList.add("animate");document.querySelectorAll(".event-card").forEach(((e,t)=>{setTimeout((()=>{e.classList.add("animate")}),200*t)})),t.events=!0}}if(!t.testimonials){const e=document.querySelector(".testimonials");if(e&&e.offsetTop<n){document.querySelector(".testimonials .section-title")?.classList.add("animate");document.querySelectorAll(".testimonial-item").forEach(((e,t)=>{setTimeout((()=>{e.classList.add("animate")}),200*t)})),t.testimonials=!0}}if(!t.blog){const e=document.querySelector(".latest-blog");if(e&&e.offsetTop<n){document.querySelector(".latest-blog .section-title")?.classList.add("animate");document.querySelectorAll(".blog-card-small").forEach(((e,t)=>{setTimeout((()=>{e.classList.add("animate")}),200*t)})),t.blog=!0}}if(!t.cta){const e=document.querySelector(".cta-section");e&&e.offsetTop<n&&(document.querySelector(".cta-content")?.classList.add("animate"),t.cta=!0)}Object.values(t).every((e=>!0===e))&&window.removeEventListener("scroll",arguments.callee)}))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".option-card"),t=document.getElementById("membership-type");e.forEach((n=>{const o=n.querySelector(".btn-primary");o&&o.addEventListener("click",(o=>{o.preventDefault();const s=n.querySelector("h3").textContent.toLowerCase();if(t)for(let e=0;e<t.options.length;e++){const n=t.options[e];if(n.value===s||n.text.toLowerCase().includes(s)){t.selectedIndex=e;break}}e.forEach((e=>e.classList.remove("selected"))),n.classList.add("selected");const r=document.getElementById("join-form");r&&r.scrollIntoView({behavior:"smooth",block:"start"})}))}));const n=document.querySelectorAll(".accordion-item");n.length>0&&n[0].classList.add("active"),n.forEach((e=>{const t=e.querySelector(".accordion-header");t&&t.addEventListener("click",(()=>{n.forEach((t=>{t!==e&&t.classList.contains("active")&&t.classList.remove("active")})),e.classList.toggle("active")}))}));const o=document.querySelectorAll('input[name="paymentMethod"]'),s=document.getElementById("credit-card-fields"),r=()=>{"credit-card"===document.querySelector('input[name="paymentMethod"]:checked').value?(s.style.display="block",document.getElementById("cardName").required=!0,document.getElementById("cardNumber").required=!0,document.getElementById("expiryMonth").required=!0,document.getElementById("expiryYear").required=!0,document.getElementById("cvv").required=!0):(s.style.display="none",document.getElementById("cardName").required=!1,document.getElementById("cardNumber").required=!1,document.getElementById("expiryMonth").required=!1,document.getElementById("expiryYear").required=!1,document.getElementById("cvv").required=!1)};o.forEach((e=>{e.addEventListener("change",r)})),r();const a=document.querySelector("form");function c(e,t){e.classList.add("error");const n=document.createElement("div");if(n.className="error-message",n.textContent=t,"radio"===e.type||"checkbox"===e.type){const t=e.closest(".checkbox-group")||e.closest(".radio-group");t&&!t.nextElementSibling?.classList.contains("error-message")&&t.parentNode.insertBefore(n,t.nextSibling)}else e.parentNode.insertBefore(n,e.nextSibling)}a&&a.addEventListener("submit",(async function(e){e.preventDefault();if(function(e){let t=!0;e.querySelectorAll(".error-message").forEach((e=>e.remove()));e.querySelectorAll("input, select, textarea").forEach((e=>e.classList.remove("error")));e.querySelectorAll("[required]").forEach((e=>{e.value.trim()||(t=!1,c(e,`${e.getAttribute("placeholder")||e.previousElementSibling.textContent.trim()||"This field"} is required`))}));const n=e.querySelector('input[type="email"]');n&&n.value.trim()&&(o=n.value,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))&&(t=!1,c(n,"Please enter a valid email address"));var o;const s=e.querySelector('input[type="tel"]');s&&s.value.trim()&&(r=s.value,!/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(r.replace(/\s/g,"")))&&(t=!1,c(s,"Please enter a valid phone number"));var r;const a=e.querySelector('input[name="paymentMethod"][value="credit-card"]');if(a&&a.checked){const e=document.getElementById("cardNumber"),n=document.getElementById("cvv");e.value.trim()&&!function(e){const t=e.replace(/[\s-]/g,"");return/^[0-9]{13,19}$/.test(t)}(e.value)&&(t=!1,c(e,"Please enter a valid credit card number")),n.value.trim()&&!function(e){return/^[0-9]{3,4}$/.test(e)}(n.value)&&(t=!1,c(n,"Please enter a valid CVV (3 or 4 digits)"))}return t}(this)){const e=this.querySelector('button[type="submit"]'),t=e?e.textContent:"";try{e&&(e.textContent="Processing...",e.disabled=!0),await new Promise((e=>setTimeout(e,2e3)));const t=document.createElement("div");t.className="alert alert-success",t.textContent="Registration successful! Welcome to Global Debate Society!",this.insertBefore(t,this.firstChild),this.scrollIntoView({behavior:"smooth",block:"start"}),this.reset(),setTimeout((()=>{t.remove()}),5e3)}catch(e){const t=document.createElement("div");t.className="alert alert-error",t.textContent="An error occurred during registration. Please try again.",this.insertBefore(t,this.firstChild)}finally{e&&(e.textContent=t,e.disabled=!1)}}}));const i=document.getElementById("cardNumber");i&&i.addEventListener("input",(function(e){let t=this.value.replace(/\D/g,"");t.length>0&&(t=t.match(new RegExp(".{1,4}","g")).join(" ")),this.value=t}));const l=document.getElementById("cvv");l&&l.addEventListener("input",(function(e){this.value=this.value.replace(/\D/g,""),this.value.length>4&&(this.value=this.value.slice(0,4))})),document.addEventListener("click",(e=>{if(e.target.closest(".option-card .btn")){const t=e.target.closest(".option-card");document.querySelectorAll(".option-card").forEach((e=>{e.classList.remove("selected")})),t.classList.add("selected")}}))})),document.addEventListener("DOMContentLoaded",(function(){setActiveNavLink(),initializeTooltips(),handleBackToTop(),updateCopyright(),handleNavbarScroll(),animateOnScroll(),initSmoothScrolling(),updateJoinButtons(),setTimeout((()=>{document.querySelector(".hero-content")?.classList.add("animate")}),100),initScrollAnimations()})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("header"),t=document.createElement("button");t.className="mobile-nav-toggle",t.innerHTML='<i class="fas fa-bars"></i>',t.addEventListener("click",(()=>{const e=document.querySelector(".nav-links"),t=e.scrollHeight;window.innerWidth<=768&&(e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=t+"px")})),window.innerWidth<=768&&e.querySelector(".main-nav").appendChild(t),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))}));document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(t=>{let n=!0;e.querySelectorAll("[required]").forEach((e=>{if(e.value.trim()){e.classList.remove("error");const t=e.nextElementSibling;t&&t.classList.contains("error-message")&&t.remove()}else{n=!1,e.classList.add("error");let t=e.nextElementSibling;t&&t.classList.contains("error-message")||(t=document.createElement("div"),t.className="error-message",e.parentNode.insertBefore(t,e.nextSibling)),t.textContent=`${e.getAttribute("placeholder")||"This field"} is required`}})),n||t.preventDefault()}))}));(()=>{const e=document.querySelectorAll(".animate-on-scroll"),t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("fade-in"),t.unobserve(e.target))}))}),{threshold:.1,rootMargin:"0px"});e.forEach((e=>{t.observe(e)}))})();(()=>{const e=window.location.pathname;document.querySelectorAll(".nav-links a").forEach((t=>{t.getAttribute("href")===e?t.classList.add("active"):t.classList.remove("active")}))})();let n;document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(async t=>{t.preventDefault(),await(async e=>{const t=e.querySelector('button[type="submit"]'),n=t.textContent;try{t.textContent="Sending...",t.disabled=!0,await new Promise((e=>setTimeout(e,1500)));const n=document.createElement("div");n.className="alert alert-success",n.textContent="Your message has been sent successfully!",e.insertBefore(n,e.firstChild),e.reset(),setTimeout((()=>{n.remove()}),5e3)}catch(t){const n=document.createElement("div");n.className="alert alert-error",n.textContent="An error occurred. Please try again later.",e.insertBefore(n,e.firstChild)}finally{t.textContent=n,t.disabled=!1}})(e)}))})),window.addEventListener("resize",(()=>{clearTimeout(n),n=setTimeout((()=>{const t=document.querySelector(".nav-links");if(window.innerWidth>768){t.style.maxHeight=null;const e=document.querySelector(".mobile-nav-toggle");e&&e.remove()}else{const t=document.querySelector(".mobile-nav-toggle");t||e.querySelector(".main-nav").appendChild(t)}}),250)}))}));const contactForm=document.querySelector(".contact-form");function showError(e,t){const n=e.parentElement,o=n.querySelector(".error-message")||document.createElement("div");o.className="error-message",o.textContent=t,n.querySelector(".error-message")||n.appendChild(o),e.classList.add("error"),e.addEventListener("input",(()=>{o.remove(),e.classList.remove("error")}),{once:!0})}function isValidEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function updateJoinButtons(){document.querySelectorAll('a[href*="join.html"]').forEach((e=>{e.textContent.includes("Join Us")&&(e.textContent="Join"),e.classList.contains("btn-join")||e.classList.add("btn-join")}))}function handleNavbarScroll(){const e=document.querySelector(".navbar");let t=0;window.addEventListener("scroll",(()=>{const n=window.pageYOffset;n>t&&n>100?e.classList.add("hide"):e.classList.remove("hide"),t=n}))}contactForm&&contactForm.addEventListener("submit",(e=>{e.preventDefault();const t=contactForm.querySelector('input[name="name"]'),n=contactForm.querySelector('input[name="email"]'),o=contactForm.querySelector('textarea[name="message"]');let s=!0;t.value.trim()||(showError(t,"Name is required"),s=!1),n.value.trim()&&isValidEmail(n.value)||(showError(n,"Please enter a valid email"),s=!1),o.value.trim()||(showError(o,"Message is required"),s=!1),s&&(alert("Thank you for your message! We will get back to you soon."),contactForm.reset())}));try{import("./lazy-loading.js").then((e=>{window.lazyLoadImages=e.lazyLoadImages,window.convertExistingImagesToLazyLoad=e.convertExistingImagesToLazyLoad})).catch((e=>{console.log("Module import not supported or module not found")}))}catch(e){console.log("Using global lazy loading functions")}function applyPerformanceOptimizations(){addPreconnect("https://fonts.googleapis.com"),addPreconnect("https://fonts.gstatic.com",!0),addPreconnect("https://cdnjs.cloudflare.com"),document.addEventListener("DOMContentLoaded",(()=>{"function"==typeof convertExistingImagesToLazyLoad&&setTimeout(convertExistingImagesToLazyLoad,1e3)}));new MutationObserver((e=>{e.forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0){Array.from(e.addedNodes).some((e=>"IMG"===e.nodeName||1===e.nodeType&&e.querySelector("img")))&&"function"==typeof lazyLoadImages&&lazyLoadImages()}}))})).observe(document.body,{childList:!0,subtree:!0})}function addPreconnect(e,t=!1){if(!document.querySelector(`link[rel="preconnect"][href="${e}"]`)){const n=document.createElement("link");n.rel="preconnect",n.href=e,t&&(n.crossOrigin="anonymous"),document.head.appendChild(n)}}function highlightCurrentPageNav(){document.querySelectorAll(".navbar-nav a").forEach((e=>e.classList.remove("active")));const e=window.location.pathname;let t="home";e.includes("/about/")?t="about":e.includes("/events/")?t="events":e.includes("/resources/")?t="resources":e.includes("/join/")?t="join":("/"===e||e.endsWith("/index.html")||e.endsWith("/"))&&(t="home");const n=document.querySelector(`.navbar-nav a[data-page="${t}"]`);n&&n.classList.add("active")}applyPerformanceOptimizations(),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".mobile-nav"),n=document.querySelector(".mobile-nav-overlay"),o=document.querySelector(".mobile-nav-close-btn"),s=document.body,r=()=>{s.classList.remove("mobile-nav-open"),t.classList.remove("active"),n.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false")};e&&e.addEventListener("click",(o=>{o.stopPropagation(),s.classList.contains("mobile-nav-open")?r():(s.classList.add("mobile-nav-open"),t.classList.add("active"),n.classList.add("active"),e.classList.add("active"),e.setAttribute("aria-expanded","true"))})),o&&o.addEventListener("click",r),n&&n.addEventListener("click",r),document.addEventListener("keydown",(e=>{"Escape"===e.key&&s.classList.contains("mobile-nav-open")&&r()}));document.querySelectorAll(".mobile-nav-links a").forEach((e=>{e.addEventListener("click",(()=>{s.classList.contains("mobile-nav-open")&&setTimeout(r,100)}))}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("monthly-prep-card");if(e){const t=new Date,n=t.toLocaleString("default",{month:"long"}),o=t.getFullYear(),s=e.querySelector("h3"),r=e.querySelector("p");s&&(s.textContent=`PF ${n} ${o} Topic Prep`),r&&(r.textContent=`Get our complete prep package for the ${n} Public Forum topic, including blockfiles and analysis.`)}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".navbar-nav"),n=document.querySelector(".menu-overlay"),o=(document.querySelector(".navbar"),document.querySelectorAll(".navbar-nav a"));highlightCurrentPageNav(),e&&e.addEventListener("click",(function(){if(this.classList.toggle("active"),t.classList.toggle("active"),n)n.classList.toggle("active");else{const n=document.createElement("div");n.className="menu-overlay",document.body.appendChild(n),n.addEventListener("click",(function(){e.classList.remove("active"),t.classList.remove("active"),this.classList.remove("active")}))}this.classList.contains("active")?document.body.style.overflow="hidden":document.body.style.overflow=""})),o.forEach((o=>{o.addEventListener("click",(function(){window.innerWidth<=768&&(e.classList.remove("active"),t.classList.remove("active"),n&&n.classList.remove("active"),document.body.style.overflow="")}))}));document.querySelectorAll(".navbar-dropdown .dropdown-toggle").forEach((e=>{e.addEventListener("click",(function(e){if(window.innerWidth<=768){e.preventDefault();this.closest(".navbar-dropdown").classList.toggle("active")}}))}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("resourceSearch"),t=e.nextElementSibling,n=document.querySelectorAll(".resource-link"),o=()=>{const t=e.value.toLowerCase();n.forEach((e=>{const n=e.textContent.toLowerCase(),o=e.closest("li");n.includes(t)?o.style.display="block":o.style.display="none"}))};e.addEventListener("keyup",(e=>{"Enter"===e.key&&o()})),t.addEventListener("click",o);const s=document.querySelectorAll(".filter-tag"),r=document.querySelectorAll(".category-card");s.forEach((e=>{e.addEventListener("click",(()=>{s.forEach((e=>e.classList.remove("active"))),e.classList.add("active");const t=e.textContent.toLowerCase();r.forEach((e=>{if("all"===t)e.style.display="block",setTimeout((()=>e.style.opacity="1"),10);else{e.querySelector("h2").textContent.toLowerCase().includes(t)?(e.style.display="block",setTimeout((()=>e.style.opacity="1"),10)):(e.style.opacity="0",setTimeout((()=>e.style.display="none"),300))}}))}))})),n.forEach((e=>{e.addEventListener("click",(t=>{if(e.classList.contains("premium")){t.preventDefault();confirm("This is a premium resource. Would you like to upgrade your membership?")&&(window.location.href="join.html#premium")}}))}));document.querySelectorAll(".featured-image img").forEach((e=>{e.addEventListener("error",(()=>{e.src="../assets/images/placeholder.jpg"}))})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));if(t){const e=100,n=t.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:n,behavior:"smooth"})}}))}));document.querySelectorAll(".category-card").forEach((e=>{e.addEventListener("mouseenter",(()=>{e.style.transform="translateY(-10px)"})),e.addEventListener("mouseleave",(()=>{e.style.transform="translateY(0)"}))}));document.querySelectorAll(".btn-primary").forEach((e=>{e.textContent.includes("Download")&&e.addEventListener("click",(t=>{t.preventDefault();const n=e.textContent;e.textContent="Downloading...",e.disabled=!0,setTimeout((()=>{e.textContent=n,e.disabled=!1;const t=document.createElement("div");t.className="alert alert-success",t.textContent="Download started successfully!",e.parentNode.insertBefore(t,e),setTimeout((()=>{t.remove()}),3e3)}),1500)}))}));let a=JSON.parse(localStorage.getItem("resourceSearchHistory")||"[]");t.addEventListener("click",(()=>{var t;(t=e.value)&&!a.includes(t)&&(a.unshift(t),a.length>5&&a.pop(),localStorage.setItem("resourceSearchHistory",JSON.stringify(a)))}));(()=>{const t=document.createElement("div");t.className="search-suggestions",e.parentNode.appendChild(t),e.addEventListener("focus",(()=>{a.length>0&&(t.style.display="block",t.innerHTML=a.map((e=>`<div class="suggestion">${e}</div>`)).join(""),t.querySelectorAll(".suggestion").forEach((n=>{n.addEventListener("click",(()=>{e.value=n.textContent,t.style.display="none",o()}))})))})),document.addEventListener("click",(n=>{e.contains(n.target)||t.contains(n.target)||(t.style.display="none")}))})()}));const CACHE_NAME="gds-cache-v1",CACHE_ASSETS=["/","/index.html","/pages/navbar-pages/about.html","/pages/navbar-pages/events.html","/pages/navbar-pages/resources.html","/pages/navbar-pages/join.html","/pages/footer-pages/blog.html","/pages/footer-pages/contact.html","/pages/footer-pages/faq.html","/src/src/styles/index.css","/src/js/main.js","/src/js/lazy-loading.js","/src/js/navbar.js","/src/js/mobile-menu.js","/src/js/faq.js","/src/js/contact.js","/src/js/events.js","/src/js/join.js","/src/js/blog.js","/src/js/resources.js","/src/assets/images/debate-hero-bg.svg","/src/assets/images/pattern-dots.svg","/src/assets/images/blog-placeholder.svg","/src/assets/images/profile-placeholder.svg"];self.addEventListener("install",(e=>{self.skipWaiting(),e.waitUntil(caches.open(CACHE_NAME).then((e=>(console.log("Caching core assets"),e.addAll(CACHE_ASSETS)))))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==CACHE_NAME)return console.log("Deleting old cache:",e),caches.delete(e)}))))))})),self.addEventListener("fetch",(e=>{e.request.url.startsWith(self.location.origin)&&"GET"===e.request.method&&(e.request.headers.get("accept").includes("text/html")?e.respondWith(fetch(e.request).then((t=>{const n=t.clone();return caches.open(CACHE_NAME).then((t=>{t.put(e.request,n)})),t})).catch((()=>caches.match(e.request)))):e.request.url.match(/\.(jpg|jpeg|png|gif|svg|webp)$/)?e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request).then((t=>{const n=t.clone();return caches.open(CACHE_NAME).then((t=>{t.put(e.request,n)})),t}))))):e.respondWith(caches.match(e.request).then((t=>{const n=fetch(e.request).then((t=>(caches.open(CACHE_NAME).then((n=>{n.put(e.request,t.clone())})),t))).catch((()=>t));return t||n}))))})),self.addEventListener("message",(e=>{"skipWaiting"===e.data&&self.skipWaiting()}));